!function(_){_(document).ready(function(){_("body").on("click",".jt__changeimg",function(e){var t;e.preventDefault();var a=_(this).attr("data-jtcontainer");t||(t=wp.media.frames.memberImage=wp.media({title:jt__getTeams.imgFrameTitle,button:{text:jt__getTeams.imgBtnText},library:{type:"image"},multiple:!1})).on("select",function(){t.setState("cropper"),attachment=t.state().get("selection").first().toJSON(),_("#"+a).find("img").attr("src",attachment.url),_("#"+a).find(".jt__teams-attachment").val(attachment.url),_("#"+a).find(".jt__teams-attachmentid").val(attachment.id)}),t.open()}),_(".jt__wrapper").sortable({placeholder:"jt__teams-highlight"}),_("body").on("click",".jt__remove",function(e){e.preventDefault(),confirm(jt__getTeams.confirmMsg)&&_(this).parent().parent().remove()}),_("body").on("click",".jt__removeimg",function(e){e.preventDefault();var t=_(this).parent(),a=_(this).attr("data-avatar");confirm(jt__getTeams.confirmMsg)&&(t.find("img").attr("src",a),t.find(".jt__teams-attachment, .jt__teams-attachmentid").val(""))});var e="list_two_per_row";_(".team_settings_grid input[type=radio]").each(function(){_(this).is(":checked")&&(e=_(this).attr("id"))}),_(".team_design_v").on("click",function(){_(".list_four_per_row, .list_five_per_row").css("display","inline-block"),_(".team_settings_grid input:checkbox").removeAttr("checked"),_(".team_settings_align input:checkbox").removeAttr("checked"),_(".list_three_per_row").removeAttr("style"),_("#list_three_per_row").attr("checked","checked"),_("#team_txt_align_center").attr("checked","checked")}),_(".team_design_h").on("click",function(){_(".list_four_per_row, .list_five_per_row").css("display","none"),_(".list_three_per_row").css("border-radius","0 4px 4px 0"),_(".team_settings_grid input:checkbox").removeAttr("checked"),_(".team_settings_align input:checkbox").removeAttr("checked"),_("#team_txt_align_left").attr("checked","checked"),"list_four_per_row"==e||"list_five_per_row"==e?_("#list_two_per_row").attr("checked","checked"):_("#"+e).attr("checked","checked")}),_(".jt__tabs li").on("click",function(){var e,t,a=_(this);a.hasClass("active")||(e=a.parent().parent(),t=a.index()+1,e.find(".jt__tabs li.active").removeClass("active"),a.addClass("active"),e.find(".jt__tab li.active").removeClass("active"),e.find(".jt__tab li:nth-child("+t+")").addClass("active"))}),_(".jt__color_picker").wpColorPicker(),_.fn.teamSlider=function(e,t){var a=e;if(a){var i="",r=t,n=_(this),c=n.find(".jt__slider-handle"),s=n.parent().find(".jt__slider-input"),i=r||s.val();switch(a){case"ch":n.slider({min:50,max:500,step:50,value:i,create:function(){c.text(i)},slide:function(e,t){c.text(t.value),s.val(t.value)}});break;default:n.slider({range:"min",min:8,max:50,value:i,create:function(){c.text(i)},slide:function(e,t){c.text(t.value),s.val(t.value)}})}}else alert("Parameter $unit is missing for teamSlider().")},_(".jt__slider-bg").each(function(){var e=_(this).attr("data-jt_unit");_(this).teamSlider(e)}),_(".jt__resetTeamSettings").on("click",function(e){e.preventDefault();var c=_("#jwdteams_settings .jt__tab"),t=_(".resetTeamSettings_spinner"),a={action:"reset_team_settings",reset_nonce:jt__getTeams.reset_nonce};confirm(jt__getTeams.confirmReset)&&(t.addClass("is-active"),_.post(jt__getTeams.ajax_url,a,function(e){_.each(e,function(e,t){var a=c.find("#"+e);switch(t.type){case"radio":a.find("input:radio").each(function(){_(this).prop("checked",!1)}),a.find("input:radio[value="+t.def+"]").prop("checked",!0),_(".list_three_per_row").removeAttr("style"),_(".list_four_per_row, .list_five_per_row").css("display","inline-block");break;case"checkbox":t.def?a.prop("checked",!0):a.prop("checked",!1);break;case"text":a.val(t.def);break;case"colorpicker":var i=a.parent().parent();t.def?i.find(".wp-color-result").css("background-color",t.def):i.find(".wp-color-result").removeAttr("style"),a.val(t.def);break;case"slider":var r=a.parent().find(".jt__slider-bg"),n=a.parent().find(".jt__slider-handle");r.teamSlider(t.unit,t.def),n.text(t.def),a.val(t.def)}}),t.removeClass("is-active"),_("#jwdteams_settings .inside").append('<div class="jt__alert jt__alert-success" role="alert">'+jt__getTeams.afterReset+"</div>")}))}),_(".jt__tab, .jt__tab .jt__slider-handle, .jt__tab .wp-picker-container").on("click",function(){_(".jt__alert").remove()})})}(jQuery);